var _0x13eb=['vacuum\x20\x27','\x27\x20new\x20mode\x20is\x20\x27','info','events','push','modeChanged','dock','docking\x20vacuum\x20\x27','then','device\x20id\x20\x27','room','vacuum\x20room\x20is\x20not\x20set','roomId','room\x20id\x20\x27','\x27\x20new\x20status\x20is\x20\x27','statusChanged','catch','\x27\x20location\x20to\x20\x27','active','\x27\x20is\x20not\x20\x27','rooms','retrieveById','name','locationChanged','\x27\x20status\x20to\x20\x27','\x27\x20is\x20already\x20\x27','\x27\x20is\x20low,\x20dock\x20to\x20recharge','dockedSince','activeSince','inactive','toString','stringify','dockedInterval','activeInterval','floor','docked','modes','exports','devices','vacuum','state','status','now','getState','mode','batteryLevel','location','getInternalState','setMode','changing\x20vacuum\x20\x27','\x27...','debug','log','mode\x20\x27','\x27\x20is\x20invalid'];(function(_0x4d449d,_0x26d658){var _0xeca87c=function(_0x2f751c){while(--_0x2f751c){_0x4d449d['push'](_0x4d449d['shift']());}};_0xeca87c(++_0x26d658);}(_0x13eb,0x101));var _0x14cc=function(_0x2f7efa,_0x3a2284){_0x2f7efa=_0x2f7efa-0x0;var _0x1341fe=_0x13eb[_0x2f7efa];return _0x1341fe;};module[_0x14cc('0x0')]={'initialize':function(_0x45c371,_0x3f67f3){_0x45c371[_0x14cc('0x1')][_0x14cc('0x2')]=class{constructor(_0x3c7e9c,_0xbc95d2){this['id']=_0x3c7e9c;this[_0x14cc('0x3')]=_0xbc95d2||{'status':_0x45c371[_0x14cc('0x1')]['vacuum'][_0x14cc('0x4')]['inactive'],'mode':_0x14cc('0x2'),'location':null,'activeSince':null,'activeInterval':0x0,'dockedSince':Date[_0x14cc('0x5')](),'dockedInterval':0x14};}[_0x14cc('0x6')](){return{'status':this['state'][_0x14cc('0x4')],'mode':this['state'][_0x14cc('0x7')],'batteryLevel':this[_0x14cc('0x8')],'location':this[_0x14cc('0x3')][_0x14cc('0x9')]};}[_0x14cc('0xa')](){return this[_0x14cc('0x3')];}[_0x14cc('0xb')](_0x3709df){return new Promise((_0x151da5,_0x2b7b37)=>{_0x45c371['log'](_0x14cc('0xc')+this['id']+'\x27\x20mode\x20to\x20\x27'+_0x3709df+_0x14cc('0xd'),_0x14cc('0xe'));if(!_0x45c371[_0x14cc('0x1')][_0x14cc('0x2')]['modes'][_0x3709df]){_0x45c371[_0x14cc('0xf')](_0x14cc('0x10')+_0x3709df+_0x14cc('0x11'),'info');_0x151da5(null);}else{if(this[_0x14cc('0x3')][_0x14cc('0x7')]==_0x3709df){_0x45c371[_0x14cc('0xf')](_0x14cc('0x12')+this['id']+'\x27\x20mode\x20is\x20already\x20\x27'+_0x3709df+'\x27','info');_0x151da5(null);}else{var _0x228b9a=this[_0x14cc('0x3')][_0x14cc('0x7')];this['state']['mode']=_0x3709df;_0x45c371[_0x14cc('0xf')](_0x14cc('0x12')+this['id']+_0x14cc('0x13')+_0x3709df+'\x27',_0x14cc('0x14'));_0x45c371[_0x14cc('0x15')][_0x14cc('0x16')](this['id'],_0x14cc('0x17'),{'previousMode':_0x228b9a,'newMode':_0x3709df});_0x151da5(_0x228b9a);}}});}[_0x14cc('0x18')](){return new Promise((_0x106801,_0x41c30d)=>{_0x45c371[_0x14cc('0xf')](_0x14cc('0x19')+this['id']+'\x27...',_0x14cc('0xe'));var _0x10e121={};_0x45c371[_0x14cc('0x1')]['retrieveById'](this['id'])[_0x14cc('0x1a')](_0x12ec3b=>{if(!_0x12ec3b){_0x45c371[_0x14cc('0xf')](_0x14cc('0x1b')+this['id']+_0x14cc('0x11'),_0x14cc('0xe'));return![];}if(!_0x12ec3b[_0x14cc('0x1c')]){_0x45c371['log'](_0x14cc('0x1d'),_0x14cc('0xe'));return![];}_0x10e121[_0x14cc('0x1e')]=_0x12ec3b[_0x14cc('0x1c')]['id'];return _0x45c371['rooms']['retrieveById'](_0x12ec3b[_0x14cc('0x1c')]['id']);})[_0x14cc('0x1a')](_0x30cf48=>{if(!_0x30cf48){_0x45c371[_0x14cc('0xf')](_0x14cc('0x1f')+contex[_0x14cc('0x1e')]+_0x14cc('0x11'),_0x14cc('0xe'));return![];}this[_0x14cc('0x3')][_0x14cc('0x9')]={'id':_0x30cf48['id'],'name':_0x30cf48['name']};this[_0x14cc('0x3')][_0x14cc('0x4')]=_0x45c371[_0x14cc('0x1')][_0x14cc('0x2')]['status']['docked'];_0x45c371[_0x14cc('0xf')](_0x14cc('0x12')+this['id']+_0x14cc('0x20')+this[_0x14cc('0x3')][_0x14cc('0x4')]+'\x27',_0x14cc('0x14'));_0x45c371[_0x14cc('0x15')][_0x14cc('0x16')](this['id'],_0x14cc('0x21'),{'newStatus':this[_0x14cc('0x3')]['status']});return!![];})[_0x14cc('0x1a')](_0x26cb32=>{this[_0x14cc('0x3')]['dockedSince']=Date[_0x14cc('0x5')]();_0x106801(_0x26cb32);})[_0x14cc('0x22')](_0xcf9b77=>{_0x41c30d(_0xcf9b77);});});}['setLocation'](_0x44bc57){return new Promise((_0x400a65,_0x237150)=>{_0x45c371['log'](_0x14cc('0xc')+this['id']+_0x14cc('0x23')+_0x44bc57+_0x14cc('0xd'),'debug');if(this['state'][_0x14cc('0x4')]!=_0x45c371[_0x14cc('0x1')][_0x14cc('0x2')][_0x14cc('0x4')][_0x14cc('0x24')]){_0x45c371[_0x14cc('0xf')](_0x14cc('0x12')+this['id']+_0x14cc('0x25')+_0x45c371['devices'][_0x14cc('0x2')][_0x14cc('0x4')][_0x14cc('0x24')]+'\x27','info');_0x400a65(![]);}_0x45c371[_0x14cc('0x26')][_0x14cc('0x27')](_0x44bc57)[_0x14cc('0x1a')](_0x49b9ee=>{if(!_0x49b9ee){_0x45c371[_0x14cc('0xf')](_0x14cc('0x1f')+_0x44bc57+_0x14cc('0x11'),'debug');return![];}var _0xa9b9b0=this[_0x14cc('0x3')][_0x14cc('0x9')];this['state'][_0x14cc('0x9')]={'id':_0x49b9ee['id'],'name':_0x49b9ee[_0x14cc('0x28')]};_0x45c371['log']('vacuum\x20\x27'+this['id']+'\x27\x20new\x20location\x20is\x20\x27'+_0x44bc57+'\x27','info');_0x45c371['events']['push'](this['id'],_0x14cc('0x29'),{'previousLocation':_0xa9b9b0,'newLocation':this[_0x14cc('0x3')][_0x14cc('0x9')]});return!![];})[_0x14cc('0x1a')](_0x246511=>{_0x400a65(_0x246511);})['catch'](_0x521819=>{_0x237150(_0x521819);});});}['start'](){return new Promise((_0x56c3ca,_0x110acc)=>{_0x45c371['log'](_0x14cc('0xc')+this['id']+_0x14cc('0x2a')+_0x45c371[_0x14cc('0x1')][_0x14cc('0x2')][_0x14cc('0x4')][_0x14cc('0x24')]+_0x14cc('0xd'),_0x14cc('0xe'));if(this[_0x14cc('0x3')][_0x14cc('0x4')]==_0x45c371['devices'][_0x14cc('0x2')][_0x14cc('0x4')][_0x14cc('0x24')]){_0x45c371[_0x14cc('0xf')](_0x14cc('0x12')+this['id']+_0x14cc('0x2b')+_0x45c371[_0x14cc('0x1')][_0x14cc('0x2')][_0x14cc('0x4')][_0x14cc('0x24')]+'\x27',_0x14cc('0x14'));_0x56c3ca(![]);}else if(this[_0x14cc('0x8')]<0x5){_0x45c371[_0x14cc('0xf')](_0x14cc('0x12')+this['id']+'\x27\x20battery\x20level\x20\x27'+this[_0x14cc('0x8')]+_0x14cc('0x2c'),'info');_0x56c3ca(![]);}else{if(this['state'][_0x14cc('0x2d')]){this[_0x14cc('0x3')]['dockedInterval']+=(Date['now']()-this[_0x14cc('0x3')][_0x14cc('0x2d')])/0x3e8/0x14;this[_0x14cc('0x3')][_0x14cc('0x2d')]=null;}this[_0x14cc('0x3')][_0x14cc('0x2e')]=Date[_0x14cc('0x5')]();this['state'][_0x14cc('0x4')]=_0x45c371[_0x14cc('0x1')]['vacuum'][_0x14cc('0x4')][_0x14cc('0x24')];_0x45c371[_0x14cc('0xf')](_0x14cc('0x12')+this['id']+_0x14cc('0x20')+this[_0x14cc('0x3')][_0x14cc('0x4')]+'\x27',_0x14cc('0x14'));_0x45c371[_0x14cc('0x15')][_0x14cc('0x16')](this['id'],_0x14cc('0x21'),{'newStatus':this[_0x14cc('0x3')][_0x14cc('0x4')]});_0x56c3ca(!![]);}});}['pause'](){return new Promise((_0x5a19c1,_0x3a81ad)=>{_0x45c371[_0x14cc('0xf')](_0x14cc('0xc')+this['id']+'\x27\x20status\x20to\x20\x27'+_0x45c371[_0x14cc('0x1')]['vacuum'][_0x14cc('0x4')][_0x14cc('0x2f')]+_0x14cc('0xd'),_0x14cc('0xe'));if(this[_0x14cc('0x3')][_0x14cc('0x4')]==_0x45c371[_0x14cc('0x1')][_0x14cc('0x2')][_0x14cc('0x4')]['inactive']){_0x45c371[_0x14cc('0xf')]('vacuum\x20\x27'+this['id']+_0x14cc('0x2b')+_0x45c371[_0x14cc('0x1')]['vacuum']['status'][_0x14cc('0x2f')]+'\x27',_0x14cc('0x14'));_0x5a19c1(![]);}else{if(this[_0x14cc('0x3')]['activeSince']){this['state']['activeInterval']+=(Date[_0x14cc('0x5')]()-this[_0x14cc('0x3')][_0x14cc('0x2e')])/0x3e8/0x3c;this[_0x14cc('0x3')][_0x14cc('0x2e')]=null;}this[_0x14cc('0x3')][_0x14cc('0x4')]=_0x45c371['devices'][_0x14cc('0x2')]['status'][_0x14cc('0x2f')];_0x45c371['log'](_0x14cc('0x12')+this['id']+_0x14cc('0x20')+this[_0x14cc('0x3')][_0x14cc('0x4')]+'\x27',_0x14cc('0x14'));_0x45c371[_0x14cc('0x15')]['push'](this['id'],_0x14cc('0x21'),{'newStatus':this[_0x14cc('0x3')][_0x14cc('0x4')]});_0x5a19c1(!![]);}});}[_0x14cc('0x30')](){return JSON[_0x14cc('0x31')](this);}get[_0x14cc('0x8')](){var _0x2fcba6=this[_0x14cc('0x3')][_0x14cc('0x32')];if(this[_0x14cc('0x3')][_0x14cc('0x4')]==_0x45c371[_0x14cc('0x1')][_0x14cc('0x2')][_0x14cc('0x4')]['docked'])_0x2fcba6+=(Date[_0x14cc('0x5')]()-this['state'][_0x14cc('0x2d')])/0x3e8/0x3c;var _0x5dda57=this['state'][_0x14cc('0x33')];if(this[_0x14cc('0x3')][_0x14cc('0x4')]==_0x45c371[_0x14cc('0x1')][_0x14cc('0x2')][_0x14cc('0x4')][_0x14cc('0x24')])_0x5dda57+=(Date[_0x14cc('0x5')]()-this[_0x14cc('0x3')][_0x14cc('0x2e')])/0x3e8/0x3c;var _0x329a45=_0x2fcba6/0x2-_0x5dda57;if(_0x329a45<=0x0)return 0x0;else if(_0x329a45>=0xf0)return 0x64;else return Math[_0x14cc('0x34')](_0x329a45/0xf0*0x64);}static get[_0x14cc('0x4')](){return{'inactive':_0x14cc('0x2f'),'active':_0x14cc('0x24'),'docked':_0x14cc('0x35')};}static get[_0x14cc('0x36')](){return{'mop':'mop','vacuum':'vacuum'};}};return _0x3f67f3();}};